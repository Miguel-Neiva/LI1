<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa2.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o Martins &lt;a91669@alunos.uminho.pt&gt;<br />Jos&#233; Neiva &lt;a92945@alunos.uminh.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>O objetivo deste m&#243;dulo &#233; executar uma jogada de um pacman ou de um fantasma atraves do numero de identidade deste e de uma orienta&#231;&#227;o.
No caso do Pacman temos que verifica a peca para qual o pacman se move fazendo as respectivas mudancas no seu estado, na pontua&#231;&#227;o e na sua vida.
o estado muda para mega no caso do Pacman comer uma big food que tambem provoca uma mudanca de estado para todos os fantasmas do jogo para Dead
o estado muda para dying no caso do pacman ter 0 vidas e bater contra um fantasma no estado alive se isto acontecer mas o pacman tem mais vidas &#233; lhe retirado uma
a pontuacao muda em 3 casos:
-come little food &#233; lhe fornecido +1 pontos
-come big food &#233; lhe fornecido +5 pontos
-come um fantasma em estado dying &#233; lhe fornecido +10 pontos</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:procuramaze">procuramaze</a> :: <a href="Types.html#t:Maze">Maze</a> -&gt; Int -&gt; <a href="Types.html#t:Corridor">Corridor</a></li><li class="src short"><a href="#v:procuracorridor">procuracorridor</a> :: <a href="Types.html#t:Corridor">Corridor</a> -&gt; Int -&gt; <a href="Types.html#t:Piece">Piece</a></li><li class="src short"><a href="#v:substituicorredor">substituicorredor</a> :: Int -&gt; <a href="Types.html#t:Corridor">Corridor</a> -&gt; <a href="Types.html#t:Corridor">Corridor</a></li><li class="src short"><a href="#v:substituipeca">substituipeca</a> :: <a href="Types.html#t:Coords">Coords</a> -&gt; <a href="Types.html#t:Maze">Maze</a> -&gt; <a href="Types.html#t:Maze">Maze</a></li><li class="src short"><a href="#v:estadojogador">estadojogador</a> :: <a href="Types.html#t:Piece">Piece</a> -&gt; [<a href="Types.html#t:Player">Player</a>] -&gt; [<a href="Types.html#t:Player">Player</a>]</li><li class="src short"><a href="#v:identificaplayer">identificaplayer</a> :: Int -&gt; [<a href="Types.html#t:Player">Player</a>] -&gt; <a href="Types.html#t:Player">Player</a></li><li class="src short"><a href="#v:mudadead">mudadead</a> :: Int -&gt; Int -&gt; (Int, Int) -&gt; [<a href="Types.html#t:Player">Player</a>] -&gt; [<a href="Types.html#t:Player">Player</a>]</li><li class="src short"><a href="#v:verificacolisao">verificacolisao</a> :: <a href="Types.html#t:Player">Player</a> -&gt; [<a href="Types.html#t:Player">Player</a>] -&gt; (Int, Int)</li><li class="src short"><a href="#v:playPlayer">playPlayer</a> :: <a href="Types.html#t:Maze">Maze</a> -&gt; <a href="Types.html#t:Play">Play</a> -&gt; [<a href="Types.html#t:Player">Player</a>] -&gt; ([<a href="Types.html#t:Player">Player</a>], <a href="Types.html#t:Coords">Coords</a>)</li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play">Play</a> -&gt; <a href="Types.html#t:State">State</a> -&gt; <a href="Types.html#t:State">State</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:procuramaze" class="def">procuramaze</a> <a href="#v:procuramaze" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze">Maze</a></td><td class="doc"><p>recebe um labirinto</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>recebe um indice</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Corridor">Corridor</a></td><td class="doc"><p>retorna um corredor</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que procura num Maze um corredor que esta no indice y</p></div></div><div class="top"><p class="src"><a id="v:procuracorridor" class="def">procuracorridor</a> <a href="#v:procuracorridor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Corridor">Corridor</a></td><td class="doc"><p>recebe um corredor</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>recebe um indice</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece">Piece</a></td><td class="doc"><p>retorna a peca que esta nesse indice</p></td></tr></table></div><div class="doc"><p>Procura uma pe&#231;a que esta no indice x</p></div></div><div class="top"><p class="src"><a id="v:substituicorredor" class="def">substituicorredor</a> <a href="#v:substituicorredor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>recebe um indice</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Corridor">Corridor</a></td><td class="doc"><p>recebe um corredor</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Corridor">Corridor</a></td><td class="doc"><p>retorna um corredor modificado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o similar a <code><a href="Tarefa2.html#v:procuracorridor">procuracorridor</a></code> que procura um indice de um corredor e substitui o seu conteudo por Empty pois o pacman comeu a pe&#231;a</p></div></div><div class="top"><p class="src"><a id="v:substituipeca" class="def">substituipeca</a> <a href="#v:substituipeca" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords">Coords</a></td><td class="doc"><p>recebe duas coordenadas</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze">Maze</a></td><td class="doc"><p>recebe um labirinto a ser modificado</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze">Maze</a></td><td class="doc"><p>retorna um labirinto modificado</p></td></tr></table></div><div class="doc"><p>Fun&#231;ao similar a <code><a href="Tarefa2.html#v:procuramaze">procuramaze</a></code> que atraves de coordenadas procura o respectivo corredor e depois envia para a fun&#231;&#227;o <code><a href="Tarefa2.html#v:substituicorredor">substituicorredor</a></code> para este modificar a a peca no caso (-1,_) acontece quando a peca nao precisa de ser substituida</p></div></div><div class="top"><p class="src"><a id="v:estadojogador" class="def">estadojogador</a> <a href="#v:estadojogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Piece">Piece</a></td><td class="doc"><p>recebe uma pe&#231;a</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>recebe uma lista de Players</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>retorna uma lista de players com as respectivas mudancas</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que faz as respectivas mudancas no estado,pontua&#231;&#227;o e velocidade consoante a peca dada</p></div></div><div class="top"><p class="src"><a id="v:identificaplayer" class="def">identificaplayer</a> <a href="#v:identificaplayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>recebe um valor identificador</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>recebe uma lista</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player">Player</a></td><td class="doc"><p>retorna o jogador que corresponde ao inteiro</p></td></tr></table></div><div class="doc"><p>Identifica um player atraves do seu ID</p></div></div><div class="top"><p class="src"><a id="v:mudadead" class="def">mudadead</a> <a href="#v:mudadead" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>recebe o comprimento do maze</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>recebe a altura do maze</p></td></tr><tr><td class="src">-&gt; (Int, Int)</td><td class="doc"><p>recebe dois ID o primeiro do pacman e o segundo do ghost a ser modificado</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>recebe uma lista de jogadores</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>retorna uma lista de jogadores com o par de pac e ghost modificado</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que muda o estado do ghost e de pac se tiveram uma colisao o caso (-1,-1) &#233; quando n&#227;o existe colisao e o caso (p,-1) e quando apenas se modifica o pacman</p></div></div><div class="top"><p class="src"><a id="v:verificacolisao" class="def">verificacolisao</a> <a href="#v:verificacolisao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>recebe uma lista de jogador</p></td></tr><tr><td class="src">-&gt; (Int, Int)</td><td class="doc"><p>retorna um par de ID (pacman,ghost) que teve em colisao</p></td></tr></table></div><div class="doc"><p>Verifica se o jogador que se moveu entra em colisao com algum outro jogador se n&#227;o houve colisao &#233; retornado (-1,-1) e se for apenas preciso modificar o pacman e retornado (pacman,-1)</p></div></div><div class="top"><p class="src"><a id="v:playPlayer" class="def">playPlayer</a> <a href="#v:playPlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze">Maze</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Play">Play</a></td><td class="doc"><p>recebe a jogada</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player">Player</a>]</td><td class="doc"><p>recebe a lista de jogadores</p></td></tr><tr><td class="src">-&gt; ([<a href="Types.html#t:Player">Player</a>], <a href="Types.html#t:Coords">Coords</a>)</td><td class="doc"><p>retorna a lista modificada e a coordenada modificada
para pacman</p></td></tr></table></div><div class="doc"><p>vai ha lista de players identifica qual o player por o identificador faz os testes da parede e do tunel depois modifica as coordenadas do jogador e retorna tambem essas mesmas coordenadas para modificar o labirinto depois</p></div></div><div class="top"><p class="src"><a id="v:play" class="def">play</a> <a href="#v:play" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play">Play</a></td><td class="doc"><p>recebe uma jogada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State">State</a></td><td class="doc"><p>recebe um estado</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State">State</a></td><td class="doc"><p>retorna o estado modificado por a jogada</p></td></tr></table></div><div class="doc"><p>Fun&#231;ao <em>m&#227;e</em> que junta tudo e manda para as fun&#231;&#245;es que modificam o mapa e tambem a lista de jogadores</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>